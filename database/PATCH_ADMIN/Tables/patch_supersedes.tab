--DEPRECATED
--This did not turn out to be useful.  Adds complexity without much pay-off.
--Can cause infinite recursion when calculating dependancy.
--Also rarely used.  Better to just apply all patches, always.

--CREATE TABLE patch_supersedes(
--  patch_supersedes_id   NUMBER
-- ,patch_name       VARCHAR2(100) 
-- ,supersedes_patch VARCHAR2(100) 
-- ,created_by       VARCHAR2 (255)  
-- ,created_on       DATE DEFAULT sysdate   
-- ,last_updated_by  VARCHAR2 (255) 
-- ,last_updated_on  DATE DEFAULT sysdate 
--);
--
--ALTER TABLE patch_supersedes 
--    ADD CONSTRAINT patch_supersedes_PK PRIMARY KEY ( patch_supersedes_id ) ;
--    
--ALTER TABLE patch_supersedes 
--    ADD CONSTRAINT patch_supersedes_UK1 UNIQUE ( patch_name  ,supersedes_patch ) ;

--Before we delete this data forever, lets convert patches to retired.

UPDATE patches 
SET    retired_yn = 'Y'
WHERE  patch_name in (select supersedes_patch from patch_supersedes)
AND    retired_yn = 'N';

COMMIT;


 
