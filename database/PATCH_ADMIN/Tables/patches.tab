CREATE TABLE "PATCHES"(
  "PATCH_ID"             NUMBER
  ,"PATCH_NAME"           VARCHAR2(100)
  ,"DB_SCHEMA"            VARCHAR2(30)
  ,"BRANCH_NAME"          VARCHAR2(100)
  ,"TAG_FROM"             VARCHAR2(40)
  ,"TAG_TO"               VARCHAR2(40)
  ,"SUPPLEMENTARY"        VARCHAR2(4)
  ,"PATCH_DESC"           VARCHAR2(200)
  ,"PATCH_COMPONANTS"     CLOB
  ,"PATCH_CREATE_DATE"    DATE
  ,"PATCH_CREATED_BY"     VARCHAR2(255)
  ,"NOTE"                 VARCHAR2(200)
  ,"LOG_DATETIME"         DATE
  ,"COMPLETED_DATETIME"   DATE
  ,"SUCCESS_YN"           VARCHAR2(1)DEFAULT 'N'
  ,"RETIRED_YN"           VARCHAR2(1)DEFAULT 'N'
  ,"RERUNNABLE_YN"        VARCHAR2(1)DEFAULT 'Y'
  ,"WARNING_COUNT"        NUMBER
  ,"ERROR_COUNT"          NUMBER
  ,"USERNAME"             VARCHAR2(30)
  ,"INSTALL_LOG"          CLOB
  ,"CREATED_BY"           VARCHAR2(255)
  ,"CREATED_ON"           DATE DEFAULT SYSDATE
  ,"LAST_UPDATED_BY"      VARCHAR2(255)
  ,"LAST_UPDATED_ON"      DATE DEFAULT SYSDATE
  ,"PATCH_TYPE"           VARCHAR2(30)DEFAULT 'feature'
    NOT NULL ENABLE
  ,"TRACKING_YN"          VARCHAR2(1)DEFAULT 'Y'
);
ALTER TABLE "PATCHES"
  ADD CONSTRAINT "PATCHES_PK" PRIMARY KEY("PATCH_ID")
    USING INDEX enable;
ALTER TABLE "PATCHES" ADD CONSTRAINT "PATCHES_UK1" UNIQUE("PATCH_NAME")
  USING INDEX enable;
ALTER TABLE "PATCHES"
  ADD CONSTRAINT "PATCHES_UK2" UNIQUE("DB_SCHEMA"
  ,"BRANCH_NAME"
  ,"TAG_FROM"
  ,"TAG_TO"
  ,"SUPPLEMENTARY")
    USING INDEX enable;
